var assert = require('chai').assert;
var nodeatob = require('atob');

if (!global.atob){
    global.atob = nodeatob;
}

var image = '/9j/4AAQSkZJRgABAQEAtAC0AAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCACgAGoDASIAAhEBAxEB/8QAHAAAAwADAQEBAAAAAAAAAAAABAUGAgMHAAEI/8QAOhAAAgEDAwIEBAUBBwQDAAAAAQIDAAQRBRIhMUEGEyJRFDJhcSOBkaGxQgcVFlJy0fA0Q2LhgpTB/8QAGQEAAwEBAQAAAAAAAAAAAAAAAgMEAQAF/8QAJxEAAgICAgICAgEFAAAAAAAAAQIAAxEhEjEEQRNRBSIyQlJhcfH/2gAMAwEAAhEDEQA/AOVZYybQua3CJoyCy9elYwSASnZ+tEee3mjf6se1ZuDqfY12gHcQM800FtYrBuFz6iMnIpa0isMbSM1mFVlrdTCCejPLDuyxOR2ocRgu2c4zVC3h+eDw6mqy3CorsFjiKnLD3B/WgrfQ7yWATYCxseCxxWZHRmkY3FLgDITqKwaVvk6fcU6ltIdLnVp5FlB/pHWhdSu4LknZGqbenHWgZcRJYHqLXkXaiu3/ALoeZYGkCbmGeae+HdEbXtXgtyGEIOZXUfIvf8+wpz49t7G31SDS7C0t4Le2hVnKqN7MeeW69P5rB1mcF1ykLPGDgFtq/TvWlbQsQyqSB1OaYyR2/q3RttH1rASQ42higxxnvW5nBp8Eb4GQFB6n3rD4X6im8WizS+HzqLSkkMdseP6fekfx0X+Q/rQhs9TSGELghd5AA2MnAouK3cXITJ9jntXoYPRvLd+1MLeyutRnUWcLzXB4ZEGSfrTo0CW+iWmnCx+C8qObGfNMqAlyaTSeGt+tSW6IUs+G3H2P9I9zR2mwXdndIl3E0UgwkisOQaemUGdQp6/K2O9JL8W/bqXGpWAxF9/BK0C28o82MYAjY5AUUr1K4lSVrV12tCoITGMcZxirBbctNiYAjBYn6Cllt8JfyMJ7SKQuMliPVk9cGutIsAAmOutCQVtol1rGqhLeF2ibDeYRkKp+v7VUR/2c2Mkm6S/nXjsBjNHWtjJo15JawyM1tKDJEX6qe6n9jVLYMgsgjAbi28/fvQvelWmGYlaFIzBvD2k22h6fcWVuCQW8xpCclu3P+1R/i7wbd3Oo6jqsefKdVkVBy7nAyAPyroZuLe0gluZTiLb6zj2qc1PUormRnin6DIGetNrKWDn0PU41AjjOZaTox1aV1eZ4FjIBDJyfpiqr/BOjSxLGHnjcDHm7gcn6itTHV9RvRenTJ0hX0sSy7nAPUDgmnMMqyzx4O6Mjp0ruaKpJHUGupSMQCXS1s7FrSK4E0axhQCMHArmkukyiZwEOAxxXWpYYo2eQyKoTnLe1JTYM5LKIyp5GXAqf56/5L7hvX1EOl6VfarlLWHcV4Jzgfqa6L4V0iPQrecTxo18/Hmo5IVfb71O6XrcVjYwu0lva2pJxHAPMnb368D7mmMPiy3YyRxpIN3yvKR0/LvVwKQEC6JlBcWqXsgmWPJTjfnk/elcaPbXEiqS2G3YPSt2nXnmE+XIM+xPFJNT1syXEkUZSNBkMeNx+teZ5Cu5PoCW1/QlJdamkOnzT71VzGwTJ5zjH81J+GtZe9gKTTxrcIfl2gZHvQvnxJEcsrJ1BqUsLmWHVJ/NBVtxIC8HOc8Vnj2a4+h9xPkN8ZGJ2NHiuoRG7KWB9J7ih7rV7LTYxEiyz3GPUWzGi/wD6agptX1JLdZrW5cYGSp5B+hrz63FcRpLdI3nFQWK8/wA1tyq+1G4K3L71HWveIGu7VUhJjCj1RnJUtnr9aW2euReWouowWB6L3+1K5JmupFjtxuDHgkYrdc2kNlEknmZcuF9Q7/SkozZH3AsdjtDqWNtremvGu29ihzwFm9PP3rENEbhtjoM+oEEEfr0wahblJr2MqvQ8AAV90S7ktFktpkYYLAo4Iyp+9V2g8MHcLLK25UfFM1xIkqsMjbhh1zThVnVQOOBjpSvTJbW71S18xmAVgUzggnGQPvxV2Etsdq6jwqsElsiMZzOLQR7iqJHvkchQvuT0p7Dp9rpkqnVX3yg4FnC+Tn/zYdB9BzQek2dtckrM+115BVqdXWnWFkYFSGSQtKg359zwaoY5kKHOcDqG383wiO1ikdq27H4Q6D25qKv9PubiW4eRjIsxznPOa6RZ+HLnXI2cHyrd3OZOpPPQCk/iiHTLO4h0/T4zG8IPnSMSWZuwP/O9JRdHl9xwJXqQlnZXMOLe53BOxBPIrPULOSForiNWkAAG4dePf8qfpG0kqAjjpW8We1ZEPIHqwa16wAWjuAtXcQW9yisVDZVhnH3rHS9Pmv8AYkYVgkhU57L3o2HRo7S4ju3CvGMlYz0c9s/TNU8d0qyG4kkiggdQdscaoDkdDgc4OaUg/YL7k4oYnJiex0k2MkpyXwSEOOlJPEcrxXcMEvpHDoV6HnBFPNQ8Sq8wtdNiMkjekNjIBPsO5oPWPDWofDJfapbzx+Y4CuxAOQPbsKca0X/caVHHisoPAtxYwX8kV3tSSRQIpW7HuPpmuhXtvazqEnghmUjH4iA5rnngi1Y/Fi5sVuLcICk0sWSv0BPByP4qgne5sYZH0mYyIvqNnL6hjvsPUfb9K0MQMkQmGdwPVvD9naSC6sI1gkQ7hGCShIORx2/KmSyRMisZcEjOMVnPvEyo7x73XJQEmgDZ8np+tIusZGxCXGNzmkEYQhgWHPY9atCzS2LSohZ0TIH2qetbF72zaS3id0jTPHfBOQP2qw0aRPhInK7ZEUBlIxn8q23yQBsQK68Aj7lJp90E8LvHFP5AaDCTA42kjr+9Q0g0Fcia4jmAHrnLlQT9MHn71U/B277IZbhINPgGTCxGZCewHUjmhpdC8MazM6wqI1T0M0DBR98Hg/emjBwDOxx67iGSbTLeKNYo92FDYU5Yj361oGrK8hK2iBcY5OSaR6noz6ZqVxb21ysnkuVVw3DDsau9I8EW8ukxXF3qUpnmjVwEUKqZGe+c9fpW2G0j9ROS1esSOuZ5XugCRsxnaOgoh9NuNQ0cZBWJJhyc+oH+kY75qutPB8NvOLi4uVnRehC8fTI96NvEhMIjjUqEX0pn0nDA9PepnR0X5HODHKwJxEn9nWg2ZR9VuEJuIpGiiQ9EwOSfrzVRrtoup2ltaW6Dyxdo9wDz+GoJx+uB+dA6XFHp75gxGruXkj7Mx6ke32pVrOt3drqVzb20wt4QQGYfM3Hv2/KmHykxkdRS1knEe6vfXUMDtCvw8aY/GcYVeR2PX2pYsyxXS3RJEOfMBAPy96npbb43UEupndrZH3BGJO7Hck1SvML6AAQ5AGMY4x3FUkFxyh8SJueBJHjkmBDgDBX2oZrWXcdsrBc8egVvaQOU2nCYAAHb6VtN8ASPakN+QVWKn1A4t6k/ZTQQgABYwOSIxjn3+9FmaxJLvK+89ACAT9DXMjq9/FagfFMzkn1YGaYWcM9yFkkkcsecsDnP3rHWsjYjwM7jzWbt21i3n2nfLlFGflx3/egJNxlYE+lh07VnMs/94WYl2k7xhge3fNNbTQZr6+jtog8cI63BTcqgfz7YqX4mJBI3EtsnMD0ldHUSJqvxCljhHjPpT7gc1c26x/3Ta/CXfxNuE2LKDnoeAfqBxQNl4EtFcPqGomRQTmOBNoI7eo8/tTFLS30qy+F05SYy+7YzZ7c8+54zXoOr8RFVKVbqbLGZopWif1RTDDKe9a5YoYb1LeR2Z8HhR/ztW5UEqh0+dTyvcGjAv44naFfN27Ax5IWl1lHyLBoRx0ciJ72UlYUs7aXB9byMOnPTmkeoaVcX16ZLhoUaZyVVDknsKtLneEXdGNz/AC5pcdNjshLqE0xlKIWLn+nFGfGpc59fQ0JqvxGTOV6kl9pOuNb+c0cwYvmNyQB/Bqm0nxbOZltri3h3GIurJwGx2x74zU7rMwvdR+NACgs2PselBxsYZreXPOCAaW9jKWCH1JTYc7nR/ihNH56RbSfUQvStfnj/ADCpiPVZRLEYLhlWPaeOASKpv8b3p58iy/8Arf8AuvJsRbW5Od+9f8lYb6nPI7KO8nHk8OASYwOvHaq3SIlFhGDgkDafpijl0WCNluBbxZjO5do2nP5UG4NlcOiYC57/ANQ7H9Kq8pv7YVZJGDCJLOEhSV3EMNo/n9qsLW3igsQtsixqBuKqeue5qVsvMkAMdu00rAlQDwo+9anv7+DRJL+OIRtuVljwfSmcEke/8VZ4ZNdWX2TuC3+JQy3mJPLfJU9feiGhCLuVsgjjIqXsdUi1GbCSAuOSDwRmqCOc+V5bDBFI828qOQOpoXMyhnCtJJEu54sjaeAxA6fxTazuFkVZJV2swBKn+njpU1LILfNx5hwwAK9gM1sttRBkXnKngfevGs8x8A+uzNZQJR3H47Fj8oH7e1Q/jLW70xfAWEBuFYZkESeYyjp271dxQtPaCNSA8nJJ6Ae9MdOsodKtPKgOMkszAYLE9Sa93xG51DPuTv8AQn52vFlSH4eeORH4IR0Ib9Otb3EaxIG/7Z4H5V3uRrie9SQRoZEyFkKAsoPXB6iufeO7rQL+VJ4LpLrUIMxzNEuV245DMOCR26nk1z18F0YopgTnq7Q0MofZyWaPPX2FFG4uc/M4/wDkaUNH5yzlScKRsP8Al5zRwvpsDKc960Vqe4vInQzNvy7zDYBj6GgdUliFiJo8O8XpfcP6eoP8j8qDlRZf+nulniA4XBQn6c8fvWzSrEXtlJJeiaOZXMPlkYwhOR9+vaut4lOSYl4I5YlbpCxGOJLRwyOAQ/uK0eJ7W5k09rS0jlZ5uu3jgY6/ei7Sz0zRNEM1vEyoUI27zlj3AJ78VpjvLCbE8jyLzgJK+B+R6U8MuOOe4Kk9mItL8DzL5d3cXZjuFGQsBHp+571SSW8kMf4oWTjqowa+vrNtCm6W7tLePtmUMT+Qqb1HxvpKMRBNdT84LxxhV+/J5qe+kMnAGALADszK7uvxWtvIlkD/ACBUJOfb60Rp3hnVE2PdSpbwGTzAjjMn6A4A/OqeO7sjbRvFuYFAQ5GM5xS/UNS8sKw+U8fnSKvxKKP3OYzmXjK+1KHSrF7vcWSFNzRrjc4HYZ71N3n9qDRxAwaSgUjP4kxLAe/ApTeX815cC3U9QeSMgUh1BVkgSTZh4sq7Keq5xyP3q1mVBhdRVlbcSQeoVqnjfV9Zs5bYSpbQyZVlt8gkf6utRlpcyW0zRF8IwIYEcZolgbS+e2DcdUyMV59JuJp3eQhEcg8D1H8u1YRzG5KoZ+oNYAzNcHzNuIywTPzAEZ+/v9hWj+8AONx4p0ugXCmG4s2RmTjLnAPuDjtjitx8DwMSw1GRM87RGDt+me9Z8RPYh/Cx9SnkgghZnguEdVbBIPB/3ppYXSCMyxMDgepPcVyfw/4gbT5vIuCZLV+D3KfUV0C1YRqJI5A8bDcrr0IqS9DU3JZUHDCNL+7N5dxydI8AInQL9PvSXWb5bWwbzXwgwij6k80XJcROPmAJ+U+xqa15TqUot1lRSE8za3c0isF7gc6M1rwtZiqaQwTNNFyrY3AjoaIgjea9EMChxMpcDpn3pfazsbdWmCyIGKOm7DZr58aYWRUZgIG3RE8Hb3Feoe9Tzyd6nR/DV3JZwT6fduGVF3RHOSvupPcdMU01BC+nZBB9QZf1rn1rqDQSLPH6yOvPUdxVR8U97bK0czYK5Q+35URt4LgiVeO5xuaiz28glI5yR1pbIqSQzqcCSRMD880fpkdzdxG4uiJMBkeM9mBxke1ET2sBXCBRn3FKCixuWepTyBGD7iq10ZFVLq7ImucAJjkLjv8AesJJVkZ41OJVUkgjp96NhkNuCMgtkhB3NYQaBI00s0l6iNIckKhP5c4rXrYLgHcXwCjisB0LX92qyW92VKNwnGACOox/FVXxNp/kH6VOnwNEH85bu6LbtwKqFwfpR39zzd5bkn3O3n9qcjMowYKZ/qklbeFN1uhnuttwwy2EBA+me9MRG+lRwQxy7iqckE4b8u1Z+d5rowfbzgY7ivahC3w6ODkjvUnkWAjiIu6sKvJfUIms7mW2S5tWElvINzY6p78fSkWpQSRSiRzvZPSXHtWA1i8sCYIZisbneBjPI6j8+/2osX6OFmkUCOVeh5x/zkUNaKGBHuJ/VjiTzr5d6DkqsvuO9bZrdpIzyOOQRRmsXsEti0Ecyu/zBMZ2kd80DFfTSqhBUKR0AqvJE5lwcA5mMFw6KMMcjgjuKe+H9cktZ5YZE823PrGPmTJ5x9PpU7KRFchwcq/XjvW+3kFtdJKfkPpb/SaW40RABKnU6JFeJEWlhbdFIMnFZi5jKs+RhVLZqON5NYTxMDmNmCOO2exrDUtSeKI2q5V5WK49hnpUHxsTgR4uje3kaYJOCQZpCV+ka/7n+aOs9em+IWJrGS8LH0LA21v34x+lD3Ma2lmqg42xrEv6c/zRGheINLs7ea3u7qK2cEYLD5gf5q6kgsFBhh8+5WQ6iDF+LbGE9lMgY/tXvNkPIiGP9VJ59Vs4IBNAwk3dHPNLP8STnkP+9WtxhgCf/9k=';

describe('Blobbify', function () {
    var Blobbify = require('../src/index');
    
    var blobber = new Blobbify();
    it('construct an instance', function () {
        assert(blobber !== null);
    });

    blobber.appendBase64String(image);
    var url = blobber.createObjectUrl();
    it('create object url', function () {
        assert(url !== null);
    });
});
